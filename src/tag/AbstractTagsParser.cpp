// Copyright (c) 2025 Clarisma / GeoDesk contributors
// SPDX-License-Identifier: AGPL-3.0-only

#include "AbstractTagsParser.h"


const clarisma::CharSchema AbstractTagsParser::VALID_FIRST_CHAR
{
 0b0000010000000000000000000000000000000000000000000000000000000000,
 0b0000011111111111111111111111111010000111111111111111111111111110,
 0b1111111111111111111111111111111111111111111111111111111111111111,
 0b1111111111111111111111111111111111111111111111111111111111111111
};

const clarisma::CharSchema AbstractTagsParser::VALID_NEXT_CHAR
{
 0b0000011111111111000000000000000000000000000000000000000000000000,
 0b0000011111111111111111111111111010000111111111111111111111111110,
 0b1111111111111111111111111111111111111111111111111111111111111111,
 0b1111111111111111111111111111111111111111111111111111111111111111,
};


std::string_view AbstractTagsParser::expectKey()
{
    skipWhitespace();
    std::string_view key = identifier(VALID_NEXT_CHAR, VALID_NEXT_CHAR);
    if (key.empty()) error("Expected key");		// throws
    skipWhitespace();
    return key;
}