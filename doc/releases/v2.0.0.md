GOL 2.0 is a complete rewrite of the [Java-based GOL Tool](https://github.com/clarisma/gol-tool), with a focus on performance and ease of use.

This is a **preview release**. Features may change before general availability. Version 2.1, planned for December 2025, will be the first GA release. 

We've introduced a new file format for GOLs, which is even more efficient and compact, and allows incremental updates. As a result, GOLs created with GOL Tool 1.x are not compatible with Version 2.0, and vice versa.

The `gol update` command, which applies updates to a GOL via `.osc` files or an Osmosis replication server, will be introduced in December 2025.

## Highlights

- Common actions are now 2x to 10x faster

- Distributed as a single self-contained executable (< 1 MB); no JVM required

- Supported platforms: Windows, Linux, and macOS

## Documentation

See [https://docs2.geodesk.com/gol](https://docs2.geodesk.com/gol)

## Toolkit support

All GeoDesk toolkits now support GOL 2.0. To make the upgrade process smoother, we will initially ship separate modules/branches, so that 1.x and 2.x code bases can run side by side. Upon general availability, we will merge the 2.x branch into the mainline release. 

- [GeoDesk for Python](https://docs2.geodesk.com/python): Support for GOL 2.0  is provided via the `geodesk2` module: `pip install geodesk2`.  

- [GeoDesk for Java](https://docs2.geodesk.com/java): Use version `2.0.0` in your project's POM:

    ```xml    
    <dependency>
        <groupId>com.geodesk</groupId>
        <artifactId>geodesk</artifactId>
        <version>2.0.0</version>
    </dependency>
    ```

- [GeoDesk for C++](https://docs2.geodesk.com/cpp): Use branch `v2` instead of `main`:

    ```cmake
    include(FetchContent)
    FetchContent_Declare(geodesk 
        GIT_REPOSITORY https://github.com/clarisma/libgeodesk.git
        GIT_TAG v2)
    FetchContent_MakeAvailable(geodesk)
    ```

## Major changes

### General

- A browser and Internet connection are no longer required to obtain documentation. All commands now provide text-based help (clarisma/gol-tool#102)

- `.poly` files are no longer supported for option `--area` (`-a`) -- use GeoJSON or WKT instead 
 
- Option `--tags` (`-t`) has been renamed to `--keys` (`-k`)

- Ability to control level of parallelism via option `--threads`

- Colored output (disable with `--no-color`)

### `gol build`

- The IDs of all nodes (including those without tags) can now be stored in a GOL using option `--waynode-ids` (`-w`); this increases the size of a GOL by 20%, but enables true lossless representation of OpenStreetMap data  
  
- Empty relations are now discarded

- No more placeholder features; instead, missing relation members are omitted, and the affected relation is tagged `geodesk:missing_members`

- Reference cycles among relations are now automatically detected and resolved. Affected relations are tagged as `geodesk:removed_refcycles`. This simplifies applications that analyze relations, as they no longer have to track which relations have been visited in order to avoid endless recursions (which would result in a stack overflow)

- Options `tag-duplicate-nodes` and `tag-orphan-nodes` have been removed. Duplicate and orphan nodes are now always tagged with `geodesk:duplicate` and `geodesk:orphan` (and hence are treated as features)

- The build process no longer uses config files. Instead, all relevant options can now be specified on the command line  

- The tags that cause a closed way to be treated as an area can now be customized via option `--areas` (clarisma/gol-tool#41)

### `gol query`

- New interactive query mode (requires Python to be installed)

- Support for [`stats` queries](https://docs.geodesk.com/gol/query/stats) has been removed; for advanced tag analysis, use [GeoDesk for Python](https://docs.geodesk.com/python) (also available in interactive mode)

- Displaying results on a Leaflet map ([`--format=map`](https://docs.geodesk.com/gol/query/map)) has been broken out as a new command (`gol map`)

- XML output now includes the true IDs of all nodes (requires a GOL to be built with option `-w`)

- New default format `brief`: This provides a basic description (including tags) of the queried features  

- The `poly` output format has been removed

- If the format is not specified via `--format` (`-f`), it is deduced from the output file extension 

### `gol info`

- Tile statistics are currently unavailable. This feature will be re-introduced in Version 2.1. 

### `gol load` / `gol save`

We have completely redesigned the concept of *tile repositories*. We will soon introduce a new file format for efficient archival and distribution of GOLs. The `load` and `save` commands will support this new format instead. 

### `gol map`

- This [new command](https://docs2.geodesk.com/gol/map) takes the place of `gol query -f=map`

## Performance enhancements

- `gol build` is now twice as fast. On a modern workstation, building a GOL from a planet file takes ~15 minutes.

- `gol query` now formats results in parallel, resulting in significant speedups: Extracting the world's rivers as GeoJSON previously took close to a minute -- now it only takes a few seconds on a 10-core system

- Queries are generally 10% faster due to file-format simplifications 
 
- Faster startup, as GOL 2.0 no longer relies on the JVM

## Bug fixes

- Robust area classification (clarisma/gol-tool#103 / clarisma/gol-tool#109; also resolves clarisma/geodesk#52, clarisma/geodesk-py#29, clarisma/geodesk-py#30, clarisma/geodesk-py#58)

## Known limitations

### Windows

- Progress bars may look choppy on older fonts. Switch the shell's font to Cascadia Mono (in `Properties`) or another font with broad Unicode support (such as [JetBrains Mono](https://fonts.google.com/specimen/JetBrains+Mono) or [Source Code Pro](https://fonts.google.com/specimen/Source+Code+Pro)).

### Linux

- To perform interactive queries, you will first need to manually install GeoDesk for Python 2.0 (`pip install geodesk2`).

### macOS

- Due to the lengthy build times on GitHub, we are currently not providing macOS binaries for [download](https://www.geodesk.com/download); you will need to build from source.
